<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="distillML">
<title>Distillation Methods • distillML</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Distillation Methods">
<meta property="og:description" content="distillML">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">distillML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/advanced_plotting.html">Plotting Methods</a>
    <a class="dropdown-item" href="../articles/local_surrogates.html">Local Surrogate</a>
    <a class="dropdown-item" href="../articles/model_distillation.html">Distillation Methods</a>
    <a class="dropdown-item" href="../articles/smoothing.html">Smoothing PDP + ALE Curves</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/forestry-labs/distillML/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Distillation Methods</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/forestry-labs/distillML/blob/HEAD/vignettes/model_distillation.Rmd" class="external-link"><code>vignettes/model_distillation.Rmd</code></a></small>
      <div class="d-none name"><code>model_distillation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="model-distillation">Model Distillation<a class="anchor" aria-label="anchor" href="#model-distillation"></a>
</h2>
<p>We can distill a general machine learning model into an interpretable
additive combination of the PDP functions of the model. This is done by
creating a linear combination of the univariate PDP curves with
nonnegative weights, fit to the predictions of the original model. To
create a surrogate model from the original model, we first create an
<code>Interpreter</code> object.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load the required packages</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/forestry-labs/distillML" class="external-link">distillML</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/forestry-labs/Rforestry" class="external-link">Rforestry</a></span><span class="op">)</span>

<span class="co"># Load in data </span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">491</span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="va">iris</span>

<span class="co"># Split data into train and test sets</span>
<span class="va">train</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="op">]</span>
<span class="va">test</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fl">101</span><span class="op">:</span><span class="fl">150</span>, <span class="op">]</span>

<span class="co"># Train a random forest on the data set</span>
<span class="va">forest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Rforestry/man/forestry.html" class="external-link">forestry</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">train</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>,
                   y<span class="op">=</span><span class="va">train</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>

<span class="co"># Create a predictor wrapper for the forest</span>
<span class="va">forest_predictor</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Predictor.html">Predictor</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>model <span class="op">=</span> <span class="va">forest</span>,
                                  data<span class="op">=</span><span class="va">data</span>,
                                  y<span class="op">=</span><span class="st">"Sepal.Length"</span>,
                                  task <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span>

<span class="va">forest_interpret</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Interpreter.html">Interpreter</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>predictor <span class="op">=</span> <span class="va">forest_predictor</span><span class="op">)</span></code></pre></div>
<p>To create a surrogate model from the <code>Interpreter</code> object,
we call the function <code>distill</code>, which has a set of important
arguments for determining how the surrogate model makes its predictions.
The underlying method for fitting these weights is the package
<code>glmnnet</code>, which enables us to enforce sparsity with lasso or
ridge regression with cross-validation. Below, we give brief
explanations of the key arguments in the <code>distill</code>
method.</p>
<ul>
<li>
<code>features</code>: This argument is a vector of feature indices.
The index of the feature is the index of the feature’s name in the
<code>Interpreter</code> object’s vector of features, which can be
accessed in our example through <code>forest_interpret$features$</code>.
The default value for features is to include the indices of all valid
features.</li>
<li>
<code>cv</code>: This argument takes a boolean value and determines
whether we want to cross-validate the weights we derive for each PDP
curve. This argument by default is <code>FALSE</code>, and should only
be set to <code>TRUE</code> if we want induce sparsity through lasso or
ridge regression.</li>
<li>
<code>snap.grid</code>: This argument takes a boolean value and
determines if the surrogate model should make predictions using
approximations with previously calculated values. By default, this is
<code>TRUE</code>. Because of the computationally expensive calculations
involved with PDP curves, this should only be switched to
<code>FALSE</code> for small training datasets or a small user-specified
<code>samples</code> argument when declaring the
<code>Interpreter</code> object.</li>
<li>
<code>snap.train</code>: This argument takes a boolean value and
determines if we make approximations through the marginal distribution
of the subsampled training data, or the equally spaced grid points. By
default, this is <code>TRUE</code>, which means that the surrogate model
uses the marginal distirbution of the subsampled training data. If
switched to <code>FALSE</code>, the distillation process becomes more
computationally expensive due to having to predict these equally-spaced
grid points.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Distilling the Model With Default Settings</span>
<span class="va">distilled_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/distill.html">distill</a></span><span class="op">(</span><span class="va">forest_interpret</span><span class="op">)</span></code></pre></div>
<p>The <code>distill</code> method returns a <code>Surrogate</code>
object, which can be used for further predictions. As we see in the
coefficients, each value of the categorical variable is one-hot encoded
in the weight-fitting process. In this case, we get three different
coefficients for the <code>Species</code> feature, one for each of the
three species of iris.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">distilled_model</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## &lt;Surrogate&gt;</span>
<span class="co">##   Public:</span>
<span class="co">##     center.mean: TRUE</span>
<span class="co">##     clone: function (deep = FALSE) </span>
<span class="co">##     feature.centers: 5.68409008109431 5.69014503495339 5.70669254287596 5.684 ...</span>
<span class="co">##     features: 1 2 3 4</span>
<span class="co">##     grid: list</span>
<span class="co">##     initialize: function (interpreter, features, weights, intercept, feature.centers, </span>
<span class="co">##     intercept: 5.70095795529679</span>
<span class="co">##     interpreter: Interpreter, R6</span>
<span class="co">##     snap.grid: TRUE</span>
<span class="co">##     weights: 1.48181923180554 1.305763819228 0.778386391268475 0.9033 ...</span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get weights for each PDP curve</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">distilled_model</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##        Sepal.Width       Petal.Length        Petal.Width Species_versicolor </span>
<span class="co">##          1.4818192          1.3057638          0.7783864          0.9033819 </span>
<span class="co">##  Species_virginica     Species_setosa </span>
<span class="co">##          0.7656621          0.8530705</span></code></pre>
<div class="section level3">
<h3 id="inducing-sparsity-in-distilled-surrogate-models">Inducing Sparsity in Distilled Surrogate Models<a class="anchor" aria-label="anchor" href="#inducing-sparsity-in-distilled-surrogate-models"></a>
</h3>
<p>To induce sparsity in the distilled surrogate models, we can also
introduce arguments into the weight-fitting process with
<code>cv.glmnet</code> by specifying parameters with the
<code>params.cv.glmnet</code> argument. This argument is a list of
arguments that the function <code>cv.glmnet</code> can take. An
equivalent argument <code>params.glment</code> exists in the
<code>distill</code> method for user-specified fitting of weights when
<code>cv = F</code> with no penalty factor.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Sparse Model</span>
<span class="va">sparse_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/distill.html">distill</a></span><span class="op">(</span><span class="va">forest_interpret</span>, 
                           cv <span class="op">=</span> <span class="cn">T</span>, 
                           params.cv.glmnet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>lower.limits <span class="op">=</span> <span class="fl">0</span>,
                                                   intercept <span class="op">=</span> <span class="cn">F</span>,
                                                   alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">distilled_model</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##        Sepal.Width       Petal.Length        Petal.Width Species_versicolor </span>
<span class="co">##          1.4818192          1.3057638          0.7783864          0.9033819 </span>
<span class="co">##  Species_virginica     Species_setosa </span>
<span class="co">##          0.7656621          0.8530705</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sparse_model</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##        Sepal.Width       Petal.Length        Petal.Width Species_versicolor </span>
<span class="co">##          1.1008288          1.3693586          0.9042907          0.6406511 </span>
<span class="co">##  Species_virginica     Species_setosa </span>
<span class="co">##          0.2239083          0.5254830</span></code></pre>
<p>While in this case, no coefficient is set to 0, we note that the
coefficients in the sparse modell tend to be smaller than in the
original distilled model.</p>
</div>
<div class="section level3">
<h3 id="predictions-using-surrogate-models">Predictions Using Surrogate Models<a class="anchor" aria-label="anchor" href="#predictions-using-surrogate-models"></a>
</h3>
<p>We use the <code>predict</code> function to make new predictions with
the distilled surrogate models. Note that the output of the surrogate
model is a one-column dataframe of the new predictions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make predictions</span>
<span class="va">original.preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">forest</span>, <span class="va">test</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="va">distill.preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">distilled_model</span>, <span class="va">test</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>
<span class="va">sparse.preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">sparse_model</span>, <span class="va">test</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>

<span class="co"># compare MSE</span>
<span class="va">rmse</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">preds</span><span class="op">)</span><span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">test</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">preds</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>original <span class="op">=</span> <span class="fu">rmse</span><span class="op">(</span><span class="va">original.preds</span><span class="op">)</span>,
                 distill <span class="op">=</span> <span class="fu">rmse</span><span class="op">(</span><span class="va">distill.preds</span><span class="op">)</span>,
                 distill.sparse <span class="op">=</span> <span class="fu">rmse</span><span class="op">(</span><span class="va">sparse.preds</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   original   distill distill.sparse</span>
<span class="co">## 1 0.751415 0.7124756       0.740607</span></code></pre>
<p>As measured by the test set, we see that both distilled models
outperform the original random forest model, indicating that the
distilled models generalize better out of sample. This varies based on
use-case. We can compare how closely the distilled predictions match the
original predictions by plotting them against each other below:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create dataframe of data we'd like to plot</span>
<span class="va">plot.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">original.preds</span>,
                        <span class="va">distill.preds</span>,
                        <span class="va">sparse.preds</span><span class="op">)</span>

<span class="co"># plots for both default distilled model and sparse model</span>
<span class="va">default.plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plot.data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">original.preds</span>,
                                             y <span class="op">=</span> <span class="va">distill.preds</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
                <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span>

<span class="va">sparse.plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plot.data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">original.preds</span>,
                                             y <span class="op">=</span> <span class="va">sparse.preds</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
                <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">default.plot</span><span class="op">)</span></code></pre></div>
<p><img src="model_distillation_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sparse.plot</span><span class="op">)</span></code></pre></div>
<p><img src="model_distillation_files/figure-html/unnamed-chunk-7-2.png" width="700"></p>
<p>Neither model matches exceptionally well to the original model’s
predictions, as shown by these plots. In this case, we see that the
regularized, sparse distilled model matches the original random forest’s
predictions better than the default settings, which corroborates their
similar out-of-sample performance.</p>
<p>For further details on the <code>distill</code> method, please refer
to the documentation provided in the “References” section.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Brian Cho, Theo Saarinen, Simon Walter, Jasjeet Sekhon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
